<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.rainbow.mapper.ItemsMapperCustomer">

    <!--定义商品的查询的SQL片段，就是商品查询条件-->
    <sql id="query_item_where">
        <!--使用动态SQL ，通过if判断，满足条件进行SQL拼接-->
        <!--商品查询条件通过ItemsQueryVo包装对象itemsCustomer属性传递-->
        <if test="itemsCustomer!=null">
            <if test="itemsCustomer.name!=null and itemsCustomer.name!=''">
                items.name LIKE  '%${itemsCustomer.name}%'
            </if>
        </if>

    </sql>

    <!--商品列表查询-->
    <!--parameterType建议传入包装对象
    resutType建议使用扩展对象
    -->
    <select id="findItemsList" parameterType="com.rainbow.entity.ItemsQueryVo"
            resultType="com.rainbow.entity.ItemsCustomer">

        select * from items
        <where>
            <include refid="query_item_where"/>

        </where>

    </select>


</mapper>